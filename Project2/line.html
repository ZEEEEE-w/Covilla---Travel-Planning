<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./line.css">
</head>

<body>
  <div class="fiveModule">
    <!-- bar1是页面中最长的灰色线，bar2是展示的短的线 -->
    <div class="bar1">
      <div class="bar2"></div>
    </div>
    <!-- 线条 -->
    <div class="lines">
      <div class="lineBox">
        <div class="lineTitle">ONE</div>
        <div class="line-father">
          <!-- line是黑色的大圆环， lin-son是内部的小黑点 -->
          <div class="line"> </div>
          <div class="line-son"></div>
        </div>
      </div>
      <div class="lineBox">
        <div class="lineTitle">TWO</div>
        <div class="line-father">
          <div class="line"> </div>
          <div class="line-son"></div>
        </div>
      </div>
      <div class="lineBox">
        <div class="lineTitle">THREE</div>
        <div class="line-father">
          <div class="line"> </div>
          <div class="line-son"></div>
        </div>
      </div>
      <div class="lineBox">
        <div class="lineTitle">FOUR</div>
        <div class="line-father">
          <div class="line"> </div>
          <div class="line-son"></div>
        </div>
      </div>
    </div>
    <!-- 内容 -->
    <div class="allContent">
      <div class="contentBar active">
        <div class="content contentBar1 active">
          第一个
        </div>
      </div>
      <div class="contentBar">
        <div class="content contentBar2">
          第二个
        </div>
      </div>
      <div class="contentBar">
        <div class="content contentBar3">
          第三个
        </div>
      </div>

      <div class="contentBar">
        <div class="content contentBar4">
          第四个
        </div>
      </div>

    </div>


  </div>

  <script>
    const bar2 = document.querySelector('.bar2')
    const lineBoxs = document.querySelectorAll('.lineBox')
    const lines = document.querySelectorAll('.line')
    const lineSons = document.querySelectorAll('.line-son')
    const contentBoxes = document.querySelectorAll('.contentBar')
    // console.log(contentBoxes);

    // 圆圈效果
    // console.log(lineBoxs);

    lineBoxs.forEach((item, index) => {
      item.addEventListener('click', function () {
        // 通过循环遍历将当前选中的元素class上添加less里面声明的当前选中active的类名样式
        lines.forEach((item1, index1) => {
          item1.classList.remove('active')
          index1 < index ? lineSons[index1].classList.add('active') : lineSons[index1].classList.remove('active')
          contentBoxes[index1].classList.remove('active')
        })
        // console.log(index);
        lines[index].classList.add('active')
        lineSons[index].classList.add('active')
        bar2.style.width = (index + 1) * 0.25 * 100 + '%'
        contentBoxes[index].classList.add('active')
      })
    })


  </script>
</body>

</html>